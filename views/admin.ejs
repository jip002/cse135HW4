<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>ZingSoft Demo</title>
  <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
  <style>
    .bubble { padding:1rem; display:flex; flex-direction:column; align-items:center; background:#fff; box-sizing:border-box; }
    .zc-chart { margin:0 auto; }
    .zc-ref { display:none; }
  </style>
</head>
<body class="zc-body">
    <a href="/database">User Management</a>
    <form action="/api/logout?_method=DELETE" method="POST">
        <button type="submit">Log out</button>
    </form>
  <div class="bubble">
    <div id="myChart">
      <a href="https://www.zingchart.com/" rel="noopener" class="zc-ref">Powered by ZingChart</a>
    </div>
  </div>
  <script src="bubble.js"></script>
  <script nonce="undefined" src="https://cdn.zinggrid.com/zinggrid.min.js"></script>  
    <style>    
        .zg-html,    
        .zg-body {      
            height: 100%;      
            width: 100%;      
            margin: 0;      
            padding: 0;    
        }    
        zing-grid[loading] {      
            height: 613px;    
        }  
    </style>
    <zing-grid caption="Mouse Position" editor sort static-menu>    
        <zg-colgroup>      
            <zg-column index="X-Coordinate" header="X-Coordinate"></zg-column>      
            <zg-column index="Y-Coordinate" header="Y-Coordinate"></zg-column>      
        </zg-colgroup>    
        <zg-data data=[]></zg-data>  
    </zing-grid>  
    <script>
        let data = document.querySelector('zg-data');
        fetch('http://localhost:3004/api/data/activity')
        .then(response => response.json())
        .then(data => {
            var grid = document.querySelector('zg-data');
            let bb = [];
            for(let i = 0; i < 50; i++){
                bb.push({"X-Coordinate": data[i].mousePosition.xCoordinate,"Y-Coordinate": data[i].mousePosition.yCoordinate});
            }
            grid.data = bb;
        });
    </script>
</body>
</html>